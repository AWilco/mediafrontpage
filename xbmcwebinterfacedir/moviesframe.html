<html>
<head>
<title>XBMC - Movies</title>
<link type="text/css" rel="stylesheet" href="css/basicframe.css">
<script type="text/javascript" src="js/jsonframe.js"></script>
<script type="text/javascript">
function CallPlay(movieid) {
  var http_request = new XMLHttpRequest();
  http_request.open( "POST", "/jsonrpc", false );
  http_request.send('{ "jsonrpc": "2.0", "method": "XBMC.Play", "params": { "movieid": ' + movieid + ' }, "id": 1 }');
}
</script>
</head>
<body>


<script type="text/javascript">
var http_request = new XMLHttpRequest();
http_request.open( "POST", "/jsonrpc", false );
http_request.send('{"jsonrpc": "2.0", "method": "VideoLibrary.GetMovies", "params": { "fields": ["title", "plot"] }, "id": 1}');

var the_object = JSON.parse(http_request.responseText);
var result = the_object["result"];
var array = result["movies"];

document.write('<div id="movies">');

for (var property in array) {
  var item = array[property];


  document.write('<div class="title"' + 'id="' + item["title"].replace(/ /g,"").replace(/'/g,'')
 + '"');

  document.write('<a href="nowplayinglite.html" onclick=CallPlay(' + item["movieid"] + ')>');

  document.write('<br /><h1>' + item["title"] + '</h1>');
  document.write('</a><div class="plot">');
  if (item["plot"])
    document.write(item["plot"]);


  document.write('</div><div class="options">');
  document.write('<a href="nowplayinglite.html" onclick=CallPlay(' + item["movieid"] + ')>Play</a>');
  document.write('<a href="/front" onclick=CallPlay(' + item["movieid"] + ')>Go Back</a>');


  document.write('</div></div>');
}
</script>
<div class='filler'><div>
</body>
</html>
